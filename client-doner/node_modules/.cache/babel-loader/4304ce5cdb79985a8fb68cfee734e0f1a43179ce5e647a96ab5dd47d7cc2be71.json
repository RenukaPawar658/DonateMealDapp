{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/acer/Desktop/DonateMealDapp/client-doner/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/acer/Desktop/DonateMealDapp/client-doner/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/acer/Desktop/DonateMealDapp/client-doner/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import abi from\"./contract/DonateMeal.json\";import{useState,useEffect}from\"react\";import{ethers}from\"ethers\";import Buy from\"./components/Buy\";import Memos from\"./components/Memos\";import Meal from\"./DonateMeal.png\";import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState({provider:null,signer:null,contract:null}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(\"None\"),_useState4=_slicedToArray(_useState3,2),account=_useState4[0],setAccount=_useState4[1];useEffect(function(){var connectWallet=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var contractAddress,contractABI,_window,ethereum,_account,provider,signer,contract;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:contractAddress=\"0x8081e2817ba14c0e4f6afeb904a2bbb40b2ccb3a\";contractABI=abi.abi;_context.prev=2;_window=window,ethereum=_window.ethereum;if(!ethereum){_context.next=17;break;}_context.next=7;return ethereum.request({method:\"eth_requestAccounts\"});case 7:_account=_context.sent;window.ethereum.on(\"chainChanged\",function(){window.location.reload();});window.ethereum.on(\"accountsChanged\",function(){window.location.reload();});provider=new ethers.providers.Web3Provider(ethereum);signer=provider.getSigner();contract=new ethers.Contract(contractAddress,contractABI,signer);setAccount(_account);setState({provider:provider,signer:signer,contract:contract});_context.next=18;break;case 17:alert(\"Please install metamask\");case 18:_context.next=23;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](2);console.log(_context.t0);case 23:case\"end\":return _context.stop();}},_callee,null,[[2,20]]);}));return function connectWallet(){return _ref.apply(this,arguments);};}();connectWallet();},[]);console.log(state);return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"#F0EAD6\",height:\"100%\"},children:[/*#__PURE__*/_jsx(\"img\",{src:Meal,className:\"img-fluid\",alt:\"..\",width:\"100%\"}),/*#__PURE__*/_jsx(\"p\",{class:\"text-muted lead \",style:{marginTop:\"10px\",marginLeft:\"5px\"},children:/*#__PURE__*/_jsxs(\"small\",{children:[\"Connected Account - \",account]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Buy,{state:state}),/*#__PURE__*/_jsx(Memos,{state:state})]})]});}export default App;","map":{"version":3,"names":["abi","useState","useEffect","ethers","Buy","Memos","Meal","jsx","_jsx","jsxs","_jsxs","App","_useState","provider","signer","contract","_useState2","_slicedToArray","state","setState","_useState3","_useState4","account","setAccount","connectWallet","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","contractAddress","contractABI","_window","ethereum","_account","wrap","_callee$","_context","prev","next","window","request","method","sent","on","location","reload","providers","Web3Provider","getSigner","Contract","alert","t0","console","log","stop","apply","arguments","style","backgroundColor","height","children","src","className","alt","width","class","marginTop","marginLeft"],"sources":["C:/Users/acer/Desktop/DonateMealDapp/client-doner/src/App.js"],"sourcesContent":["import abi from \"./contract/DonateMeal.json\";\nimport { useState, useEffect } from \"react\";\nimport { ethers } from \"ethers\";\nimport Buy from \"./components/Buy\";\nimport Memos from \"./components/Memos\";\nimport Meal from \"./DonateMeal.png\";\nimport \"./App.css\";\n\nfunction App() {\n  const [state, setState] = useState({\n    provider: null,\n    signer: null,\n    contract: null,\n  });\n  const [account, setAccount] = useState(\"None\");\n  useEffect(() => {\n    const connectWallet = async () => {\n      const contractAddress = \"0x8081e2817ba14c0e4f6afeb904a2bbb40b2ccb3a\";\n      const contractABI = abi.abi;\n      try {\n        const { ethereum } = window;\n\n        if (ethereum) {\n          const account = await ethereum.request({\n            method: \"eth_requestAccounts\",\n          });\n\n          window.ethereum.on(\"chainChanged\", () => {\n            window.location.reload();\n          });\n\n          window.ethereum.on(\"accountsChanged\", () => {\n            window.location.reload();\n          });\n\n          const provider = new ethers.providers.Web3Provider(ethereum);\n          const signer = provider.getSigner();\n          const contract = new ethers.Contract(\n            contractAddress,\n            contractABI,\n            signer\n          );\n          setAccount(account);\n          setState({ provider, signer, contract });\n        } else {\n          alert(\"Please install metamask\");\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    connectWallet();\n  },[]);\n  console.log(state);\n  return (\n    <div style={{ backgroundColor: \"#F0EAD6\", height: \"100%\" }}>\n      <img src={Meal} className=\"img-fluid\" alt=\"..\" width=\"100%\" />\n      <p\n        class=\"text-muted lead \"\n        style={{ marginTop: \"10px\", marginLeft: \"5px\" }}\n      >\n        <small>Connected Account - {account}</small>\n      </p>\n      <div className=\"container\">\n        <Buy state={state} />\n        <Memos state={state} />\n      </div>\n    </div>\n  );\n}\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}